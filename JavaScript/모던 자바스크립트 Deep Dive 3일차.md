### 04장 변수

#### 4.1 변수란 무엇인가? 왜 필요한가?
변수는 프로그래밍 언어에서 데이터를 관리하기 위한 핵심 개념으로 10+20이라는 식을 계산할 때, 사람은 계산과 기억을 모두 두뇌에서 하지만, 컴퓨터는 CPU를 사용해 연산하고, 메모리를 사용해 데이터를 기억한다.
메모리는 데이터를 저장할 수 있는 메모리 셀의 집합체로 각 셀은 고유의 메모리 주소를 갖는다.
성공적으로 연산이 끝나고 연산 결과도 메모리에 저장되어도 CPU가 연산해서 만들어낸 숫자는 재사용을 하려면 메모리 공간에 직접 접근하는 것 외에는 방법이 없지만, 이와같은 방법은 치명적 오류를 발생시킬 가능성이 높기에 자바스크립트에서는 변수라는 메커니즘을 제공한다. `변수는 하나의 값을 저장하기 위해 확보한 메모리 공간 자체 또는 그 메모리 공간을 식별하기 위해 붙인 이름으로, 값의 위치를 가리키는 상징적인 이름이다.`
메모리 공간에 저장된 값을 식별할 수 있는 고유한 이름을 `변수이름`이라고 하고, 변수에 저장된 값을 `변수 값` , 변수에 값을 저장하는 것을 `할당`이라고 하며, 저장된 값을 읽어 들이는 것을 `참조`라고 한다.


#### 4.2 식별자
`식별자는 어떤 값을 구별해서 식별할 수 있는 고유한 이름으로, 값이 아니라 메모리 주소를 기억하고 있다.`
![](https://velog.velcdn.com/images/guddyd6761/post/ddde6920-f5e3-4bc9-b22f-9ccfd7e5f46e/image.png)

#### 4.3 변수 선언
변수 선언이란 변수를 생성하는 것으로, 값을 저장하기 위한 메모리 공간을 확보하고 변수 이름과 확보된 메모리 공간의 주소를 연결해서 값을 저장할 수 있게 준비하는 것이다. 변수를 사용하려면 반드시 선언이 필요하고 var, let, const 키워드를 사용한다. 자바스크립트 엔진은 변수 선언을 다음과 같은 2단계에 거쳐 수행한다. 

`선언단계 : 변수 이름을 등록하여 자바스크립트 엔진에 변수의 존재를 알린다.`
`초기화 단계 : 값을 저장하기 위한 메모리 공간을 확보하고 암묵적으로 undefined를 할당해 초기화한다.`

var 키워드를 사용한 변수 선언은 선언 단계와 초기화 단계가 동시에 진행되고, var 키워드는 어떠한 값도 할당하지 않아도 undefined라는 값을 갖는다. 만약 선언하지 않은 식별자에 접근하면 ReferenceError가 발생하는데, var 키워드는 이러한 에러로부터 안전하다.


#### 4.4 변수 선언의 실행 시점과 변수 호이스팅
```javascript
console.log(score); //undefined

var score; //변수 선언문
```
위와 같이 변수 선언문보다 변수를 참조하는 코드가 앞에 있다면, 변수 선언이 실행되지 않았으므로 참조 에러가 발생할 것처럼 보이지만, undefined가 출력된다.
`변수 선언이 소스코드가 한 줄씩 순차적으로 실행되는 시점. 즉 런타임이 아니라 그 이전 단계에서 실행되기 때문이다.`
자바스크립트 엔진은 소스코드를 실행하기에 앞서 먼저 소스코드의 평가 과정을 거치면서 소스코드를 실행하기 위한 준비를 하는데 이 때, 변수 선언을 포함한 모든 선언문을 먼저 실행한다.
`이처럼 변수 선언문이 코드의 선두로 끌어 올려진 것처럼 동작하는 자바스크립트 고유의 특징을 호이스팅이라고 한다.`

#### 4.5 값을 할당
변수에 값을 할당할 때는 할당 연산자 =를 사용한다. 변수 선언과 값을 할당의 실행 시점은 다르다.
`변수 선언은 소스코드가 순차적으로 실행되는 시점인 런타임 이전에 먼저 실행되지만 값을 할당은 소스코드가 순차적으로 실행되는 시점인 런타임에 실행된다.`

```javascript
console.log(score); //undefined

var score; // 1.변수 선언
score = 80; // 2. 값의 할당

console.log(score); //80
```

#### 4.6 값의 재할당
재할당이란 이미 값이 할당되어 있는 변수에 새로운 값을 또다시 할당하는 것을 말한다. 값을 재할당할 수 없어서 변수에 저장된 값을 변경할 수 없다면 변수가 아니라 상수라 한다. 값을 재할당하면 이전 값이 저장되어 있던 메모리 공간을 지우고 그 메모리 공간에 저장하는 것이 아니라 새로운 메모리 공간을 확보하고 그 메모리 공간에 저장한다. 다시 말해 이전 값들은 어떤 식별자와도 연결되어 있지 않기에 불필요한 값인데 가비지 콜렉터에 의해 메모리에서 자동 해제된다.

🔥언매니지드 언어와 매니지드 언어
프로그래밍 언어는 메모리 관리 방식에 따라 언매니지드 언어와 매니지드 언어로 구분할 수 있다.
C언어와 같은 언매니지드 언어는 개발자가 주도적으로 메모리 제어 가능하여 개발자의 역량에 따라 최적의 성능을 확보할 수 있지만 치명적 오류를 생산할 수도 있다.
자바스크립트와 같은 매니지드 언어는 메모리 관리 기능을 언어 차원에서 담당하여 개발자가 명시적으로 메모리 할당 및 해제가 불가하다. 개발자의 역량에 의존하는 부분이 상대적으로 작아, 성능면에서는 어느 정도의 손실을 감수할 수 밖에 없다.


#### 4.7 식별자 네이밍 규칙
`식별자는 특수문자를 제외한 문자, 숫자, 언더스코어(_),달러 기호($)를 포함할 수 있다.`
`단, 식별자는 특수문자를 제외한 문자, 언더스코어(_), 달러 기호($)로 시작해야 한다. 숫자로 시작하는 것은 허용하지 않는다.`
`예약어는 식별자로 사용할 수 없다.`
하나 이상의 영어 단어로 구성된 식별자를 만들 때 가독성 좋게 단어를 한눈에 구분하기 위해 네이밍 컨벤션을 지켜야 한다. 일반적으로는 변수나 함수의 이름에는 카멜 케이스를 사용하고, 생성자 함수, 클래스의 이름에는 파스칼 케이스를 사용한다.

```javascript
//카멜 케이스(camelCase)
var firstName;

//스네이크 케이스(snake_case)
var first_name;

//파스칼 케이스(PascalCase)
var FirstName;

//헝가리언 케이스(typeHungarianCase)
var strFirstName; // type + identifier
var $elem = document.getElementById('myId'); // Dom 노드
var observable$ = fromEvent(document, 'click'); // RxJs 옵저버블
```
