## 4ì¥ ì´ë²¤íŠ¸ í•¸ë“¤ë§
ì‚¬ìš©ìê°€ ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ DOM ìš”ì†Œë“¤ê³¼ ìƒí˜¸ ì‘ìš©í•˜ëŠ” ê²ƒì„ ì´ë²¤íŠ¸ë¼ê³  í•©ë‹ˆë‹¤.


### 4.1 ë¦¬ì•¡íŠ¸ì˜ ì´ë²¤íŠ¸ ì‹œìŠ¤í…œ
ë¦¬ì•¡íŠ¸ì˜ ì´ë²¤íŠ¸ ì‹œìŠ¤í…œì€ ì›¹ ë¸Œë¼ìš°ì €ì˜ HTML ì´ë²¤íŠ¸ì™€ ì¸í„°í˜ì´ìŠ¤ê°€ ë™ì¼í•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ë²•ì´ ë¹„ìŠ·í•˜ì§€ë§Œ,
ì£¼ì˜í•´ì•¼í•  ëª‡ ê°€ì§€ ì‚¬í•­ì´ ìˆìŠµë‹ˆë‹¤.
1. ì´ë²¤íŠ¸ ì´ë¦„ì€ ì¹´ë©œ í‘œê¸°ë²•ìœ¼ë¡œ ì‘ì„±í•©ë‹ˆë‹¤.
`onclick -> onClick / onkeyup -> onKeyUp`
2. ì´ë²¤íŠ¸ì— ì‹¤í–‰í•  ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, í•¨ìˆ˜ í˜•íƒœì˜ ê°’ì„ ì „ë‹¬í•©ë‹ˆë‹¤.
3. DOMìš”ì†Œì—ë§Œ ì´ë²¤íŠ¸ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
`div, button, input, form, span ë“±ì˜ DOMìš”ì†Œì—ëŠ” ì´ë²¤íŠ¸ë¥¼ ì„¤ì •í•  ìˆ˜ ìˆì§€ë§Œ, ì»´í¬ë„ŒíŠ¸ì—ëŠ” ì´ë²¤íŠ¸ë¥¼ ì„¤ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`

### 4.2 ì´ë²¤íŠ¸ í•¸ë“¤ë§ ìµíˆê¸°
```javascript
import React from 'react';
import { useState } from 'react';

const EventPractice = () => {
    const [form , setForm] = useState({
        username : '',
        message: ''
    })
    const {username , message} = form;
    const onChange = e =>{
        const nextForm = {
            ...form, // ê¸°ì¡´ì˜ form ë‚´ìš©ì„ ì´ ìë¦¬ì— ë³µì‚¬í•œ ë’¤
            [e.target.name] : e.target.value // ì›í•˜ëŠ” ê°’ì„ ë®ì–´ ì”Œìš°ê¸°
        };
    setForm(nextForm)
    }
    const onClick = () =>{ 
        alert(username + '' + message);
        setForm({ //ë²„íŠ¼ì„ ëˆ„ë¥¼ ë•Œ inputê°’ì„ ê³µë°±ìœ¼ë¡œ ì„¤ì •
            username : '',
            message: ''
        });
    };
    const onKeyPress = e =>{ //onKeyPress ì´ë²¤íŠ¸ í•¸ë“¤ë§
        if(e.key === 'Enter'){
            onClick();
        }
    }
    
    return (
        <div>
            <h1>ì´ë²¤íŠ¸ ì—°ìŠµ</h1>
            <input type='text' name='username' placeholder='ì‚¬ìš©ìëª…' value={username} onChange={onChange}></input>
            <input type='text' name='message' placeholder='ì•„ë¬´ê±°ë‚˜ ì…ë ¥í•´ ë³´ì„¸ìš”' value={message} onChange={onChange} onKeyPress={onKeyPress}></input>
            <button onClick={onClick}>í™•ì¸</button>
        </div>
    );
};
    
export default EventPractice;
```

## 5ì¥ ref:DOMì— ì´ë¦„ë‹¬ê¸°
HTMLì—ì„œëŠ” DOMìš”ì†Œì— idë¥¼ ì§€ì •í•˜ì—¬ íŠ¹ì • ìŠ¤íƒ€ì¼ì„ ì ìš©í•  ìˆ˜ ìˆëŠ”ë°, ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ DOMì— ì´ë¦„ì„ ì§€ì •í•˜ëŠ” ë°©ë²•ì´ refì…ë‹ˆë‹¤.

> **ğŸ”¥ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œëŠ” idë¥¼ ì‚¬ìš©í•˜ë©´ ì•ˆ ë˜ë‚˜ìš”?**
ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ë„ idë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ í•´ë‹¹ DOMì„ ë Œë”ë§í•  ë•Œ JSXì— ê·¸ëŒ€ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì—¬ëŸ¬ ë²ˆ ì¬ì‚¬ìš©í•˜ê²Œ ë˜ì—ˆì„ ë•Œ, idëŠ” ìœ ì¼í•´ì•¼í•˜ëŠ”ë° ì´ëŸ° ìƒí™©ì—ì„œëŠ” ì¤‘ë³µidë¥¼ ê°€ì§„ DOMì´ ì—¬ëŸ¬ê°œ ìƒê¸°ë‹ˆ ì˜ëª»ëœ ì‚¬ìš©ì´ê¸°ì— ì‚¬ìš©ì„ ê¶Œì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

### refëŠ” ì–´ë–¤ ìƒí™©ì—ì„œ ì•„ìš©í•´ì•¼ í• ê¹Œ?
refëŠ” `DOMì„ ê¼­ ì§ì ‘ì ìœ¼ë¡œ ê±´ë“œë ¤ì•¼ í•  ë•Œ` ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.
- íŠ¹ì • inputì— í¬ì»¤ìŠ¤ ì£¼ê¸°
- ìŠ¤í¬ë¡¤ ë°•ìŠ¤ ì¡°ì‘í•˜ê¸°
- canvasìš”ì†Œì— ê·¸ë¦¼ ê·¸ë¦¬ê¸°

ì´ë•ŒëŠ” ì–´ì©” ìˆ˜ì—†ì´ DOMì— ì§ì ‘ì ìœ¼ë¡œ ì ‘ê·¼í•´ì•¼ í•˜ëŠ”ë°, ì´ë¥¼ ìœ„í•´ refë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.


## 6ì¥ ì»´í¬ë„ŒíŠ¸ ë°˜ë³µ
ìë°”ìŠ¤í¬ë¦½íŠ¸ ë°°ì—´ ê°ì²´ì˜ ë‚´ì¥ í•¨ìˆ˜ì¸ `map í•¨ìˆ˜`ë¥¼ ì‚¬ìš©í•˜ì—¬ ë°˜ë³µë˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.mapí•¨ìˆ˜ëŠ” íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ëœ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ ë°°ì—´ ë‚´ ê° ìš”ì†Œë¥¼ ì›í•˜ëŠ” ê·œì¹™ì— ë”°ë¼ ë³€í™˜í•œ í›„ ê·¸ ê²°ê³¼ë¡œ ìƒˆë¡œìš´ ë°°ì—´ì„ ìƒì„±í•©ë‹ˆë‹¤.
ë¦¬ì•¡íŠ¸ì—ì„œ keyëŠ” ì»´í¬ë„ŒíŠ¸ ë°°ì—´ì„ ë Œë”ë§í–ˆì„ ë•Œ ì–´ë–¤ ì›ì†Œì— ë³€ë™ì´ ìˆì—ˆëŠ”ì§€ ì•Œì•„ë‚´ë ¤ê³  ì‚¬ìš©í•˜ê¸°ì—, keyê°’ì€ ì–¸ì œë‚˜ ìœ ì¼í•´ì•¼ í•©ë‹ˆë‹¤. ë”°ë¼ì„œ `ê³ ìœ³ê°’ì„ keyê°’ìœ¼ë¡œ ì„¤ì •`í•´ì•¼ í•©ë‹ˆë‹¤. ê³ ìœ ê°’ì´ ì—†ëŠ” ê²½ìš°, mapí•¨ìˆ˜ì— ì „ë‹¬ë˜ëŠ” ì½œë°± í•¨ìˆ˜ì˜ ì¸ìˆ˜ì¸ indexê°’ì„ ì‚¬ìš©í•˜ë©´ ë˜ì§€ë§Œ íš¨ìœ¨ì ìœ¼ë¡œ ë¦¬ë Œë”ë§ ë˜ì§€ ëª»í•˜ê¸°ì— ê¶Œì¥í•˜ì§€ ì•ŠëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

```javascript
arr.map(callback , [thisArg])

* callback : ìƒˆë¡œìš´ ë°°ì—´ì˜ ìš”ì†Œë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜ë¡œ íŒŒë¼ë¯¸í„°ëŠ” ë‹¤ìŒ ì„¸ ê°€ì§€ì…ë‹ˆë‹¤.
	- currntValue : í˜„ì¬ ì²˜ë¦¬í•˜ê³  ìˆëŠ” ìš”ì†Œ
    - index : í˜„ì¬ ì²˜ë¦¬í•˜ê³  ìˆëŠ” ìš”ì†Œì˜ index ê°’
    - array : í˜„ì¬ ì²˜ë¦¬í•˜ê³  ìˆëŠ” ì›ë³¸ ë°°ì—´
* thisArg(ì„ íƒí•­ëª©) : callback í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì‚¬ìš©í•  this ë˜í¼ëŸ°ìŠ¤
```
```javascript
//IterationSample
import React from 'react';
import { useState } from 'react';

const IterationSample = () => {
    const [names, setNames] = useState([
        {id:1 , text:'ëˆˆì‚¬ëŒ'},
        {id:2 , text:'ì–¼ìŒ'},
        {id:3 , text:'ëˆˆ'},
        {id:4 , text:'ë°”ëŒ'},
    ]);
    const [inputText, setInputText] = useState('');
    const [nextId, setNextId] = useState(5); //ìƒˆë¡œìš´ í•­ëª©ì„ ì¶”ê°€í•  ë•Œ ì‚¬ìš©í•  id

    const onChange = e => setInputText(e.target.value)
    const onClick = () => {
        const nextNames = names.concat({
            id : nextId, //nextIdê°’ì„ idë¡œ ì„¤ì •
            text: inputText
        });
        setNextId(nextId +1); //nextId ê°’ì— 1ì„ ë”í•´ì¤€ë‹¤.
        setNames(nextNames); //names ê°’ì„ ì—…ë°ì´íŠ¸í•œë‹¤.
        setInputText(''); //inputTextë¥¼ ë¹„ìš´ë‹¤
    }

    const onRemove = id =>{
        const nextNames = names.filter(name => name.id !== id);
        setNames(nextNames)
    }

    const namesList = names.map(name => <li key={name.id} onDoubleClick={()=>onRemove(name.id)}>{name.text}</li>)
    return (
        <>
        <input value={inputText} onChange={onChange}></input>
        <button onClick={onClick}>ì¶”ê°€</button>
        <ul>{namesList}</ul>
        </>
    );
};

export default IterationSample;
```


ë°°ì—´ì— ìƒˆ í•­ëª©ì„ ì¶”ê°€í•  ë•Œ `pushí•¨ìˆ˜ëŠ” ê¸°ì¡´ ë°°ì—´ ìì²´ë¥¼ ë³€ê²½`í•´ ì£¼ëŠ” ë°˜ë©´, `concatí•¨ìˆ˜ëŠ” ìƒˆë¡œìš´ ë°°ì—´ì„ ë§Œë“¤ì–´ ì¤€ë‹¤`ëŠ” ì°¨ì´ì ì´ ìˆìŠµë‹ˆë‹¤. ë¦¬ì•¡íŠ¸ì—ì„œ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸ í•  ë•ŒëŠ” ê¸°ì¡´ ìƒíƒœë¥¼ ê·¸ëŒ€ë¡œ ë‘ë©´ì„œ ìƒˆë¡œìš´ ê°’ì„ ìƒíƒœë¡œ ì„¤ì •í•´ì•¼ ì„±ëŠ¥ì„ ìµœì í™” í•  ìˆ˜ ìˆëŠ”ë° ì´ë¥¼ **ë¶ˆë³€ì„± ìœ ì§€**ë¼ê³  í•©ë‹ˆë‹¤.
`filter í•¨ìˆ˜ëŠ” ë¶ˆë³€ì„±ì„ ìœ ì§€í•˜ë©´ì„œ ë°°ì—´ì˜ íŠ¹ì • í•­ëª©ì„ ì§€ìš¸ ë•Œ ì‚¬ìš©` í•©ë‹ˆë‹¤. ë¶„ë¥˜í•˜ê³  ì‹¶ì€ ì¡°ê±´ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë„£ì–´ ì£¼ë©´ ì‰½ê²Œ ë¶„ë¥˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


## 7ì¥ ì»´í¬ë„ŒíŠ¸ì˜ ë¼ì´í”„ì‚¬ì´í´ ë©”ì„œë“œ
ëª¨ë“  ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ëŠ” ë¼ì´í”„ì‚¬ì´í´ì´ ì¡´ì¬í•©ë‹ˆë‹¤. ì»´í¬ë„ŒíŠ¸ì˜ ìˆ˜ëª…ì€ í˜ì´ì§€ì— ë Œë”ë§ë˜ê¸° ì „ì¸ ì¤€ë¹„ ê³¼ì •ì—ì„œ ì‹œì‘í•˜ì—¬ í˜ì´ì§€ì—ì„œ ì‚¬ë¼ì§ˆ ë•Œ ëë‚©ë‹ˆë‹¤. 
ì»´í¬ë„ŒíŠ¸ë¥¼ ì²˜ìŒìœ¼ë¡œ ë Œë”ë§í•  ë•Œ ì–´ë–¤ ì‘ì—…ì„ í•˜ê±°ë‚˜, ì—…ë°ì´íŠ¸ ì „í›„ë¡œ ì–´ë–¤ ì‘ì—…ì„ í•˜ê±°ë‚˜, ë¶ˆí•„ìš”í•œ ì—…ë°ì´íŠ¸ë¥¼ ë°©ì§€í•´ì•¼ í•  ë•Œ ë¼ì´í”„ì‚¬ì´í´ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
ë¼ì´í”„ì‚¬ì´í´ ë©”ì„œë“œëŠ” í´ë˜ìŠ¤í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” Hooksê¸°ëŠ¥ì„ í†µí•´ ë¹„ìŠ·í•œ ì‘ì—…ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### 7.1 ë¼ì´í”„ì‚¬ì´í´ ë©”ì„œë“œì˜ ì´í•´
ë¼ì´í”„ì‚¬ì´í´ ë©”ì„œë“œì˜ ì¢…ë¥˜ëŠ” ì´ ì•„í™‰ ê°€ì§€ë¡œ, `Willì ‘ë‘ì‚¬`ê°€ ë¶™ì€ ë©”ì„œë“œëŠ” ì–´ë–¤ ì‘ì—…ì„ ì‘ë™í•˜ê¸° `ì „`ì— ì‹¤í–‰ë˜ëŠ” ë©”ì„œë“œ, `Didì ‘ë‘ì‚¬`ê°€ ë¶™ì€ ë©”ì„œë“œëŠ” ì–´ë–¤ ì‘ì—…ì„ ì‘ë™í•œ `í›„`ì— ì‹¤í–‰ë˜ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤.
ë¼ì´í”„ì‚¬ì´í´ì€ ì´ ì„¸ê°€ì§€, ì¦‰ `ë§ˆìš´íŠ¸, ì—…ë°ì´íŠ¸, ì–¸ë§ˆìš´íŠ¸` ì¹´í…Œê³ ë¦¬ë¡œ ë‚˜ë‰˜ëŠ”ë°, ì»´í¬ë„ŒíŠ¸ í´ë˜ìŠ¤ì—ì„œ ë®ì–´ ì¨ ì„ ì–¸í•¨ìœ¼ë¡œì¨ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ë§ˆìš´íŠ¸
DOMì´ ìƒì„±ë˜ê³  ì›¹ ë¸Œë¼ìš°ì €ìƒì— ë‚˜íƒ€ë‚˜ëŠ” ê²ƒì„ ë§ˆìš´íŠ¸(mount)ë¼ê³  í•œë‹¤.

![](https://velog.velcdn.com/images/guddyd6761/post/766c7cb2-57d5-44c8-adcd-cf8f11ca2394/image.png)

- constructor : ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒˆë¡œ ë§Œë“¤ ë•Œë§ˆë‹¤ í˜¸ì¶œë˜ëŠ” í´ë˜ìŠ¤ ìƒì„±ì ë©”ì„œë“œ
- getDerivedStateFromProps : propsì— ìˆëŠ” ê°’ì„ state ë„£ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” ë©”ì„œë“œ
- render : ìš°ë¦¬ê°€ ì¤€ë¹„í•œ UIë¥¼ ë Œë”ë§í•˜ëŠ” ë©”ì„œë“œ
- componentDidMount : ì»´í¬ë„ŒíŠ¸ê°€ ì›¹ ë¸Œë¼ìš°ì €ìƒì— ë‚˜íƒ€ë‚œ í›„ í˜¸ì¶œí•˜ëŠ” ë©”ì„œë“œ


#### ì—…ë°ì´íŠ¸
ì»´í¬ë„ŒíŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë„¤ ê°€ì§€ ê²½ìš°ì— ì—…ë°ì´íŠ¸í•©ë‹ˆë‹¤.
- propsê°€ ë°”ë€” ë•Œ
- stateê°€ ë°”ë€” ë•Œ
- ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë  ë•Œ
- this.forceUpdateë¡œ ê°•ì œë¡œ ë Œë”ë§ì„ íŠ¸ë¦¬ê±°í•  ë•Œ

![](https://velog.velcdn.com/images/guddyd6761/post/11934fdb-134b-4eea-ae87-52d826593c52/image.png)

**getDerivedStateFromProps**
getDerivedStateFromProps ë©”ì„œë“œëŠ” ë§ˆìš´íŠ¸ ê³¼ì •ì—ì„œë„ í˜¸ì¶œë˜ë©°, ì—…ë°ì´íŠ¸ê°€ ì‹œì‘í•˜ê¸° ì „ì—ë„ í˜¸ì¶œ
propsì˜ ë³€í™”ì— ë”°ë¼ state ê°’ì—ë„ ë³€í™”ë¥¼ ì£¼ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©

**shouldComponentUpdate**
ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ì„ í•´ì•¼ í• ì§€ ë§ì•„ì•¼ í• ì§€ë¥¼ ê²°ì •í•˜ëŠ” ë©”ì„œë“œ
shouldComponentUpdate ë©”ì„œë“œì—ì„œëŠ” true í˜¹ì€ false ê°’ì„ ë°˜í™˜í•´ì•¼ í•˜ë©°,
trueë¥¼ ë°˜í™˜í•˜ë©´ ë‹¤ìŒ ë¼ì´í”„ì‚¬ì´í´ ë©”ì„œë“œë¥¼ ê³„ì† ì‹¤í–‰í•˜ê³ , falseë¥¼ ë°˜í™˜í•˜ë©´ ì‘ì—…ì„ ì¤‘ì§€ -> ì¦‰, ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë˜ì§€ ì•ŠìŒ
ë§Œì•½ íŠ¹ì • í•¨ìˆ˜ì—ì„œ this.forceUpdate() í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤ë©´ ì´ ê³¼ì •ì„ ìƒëµí•˜ê³  ë°”ë¡œ render í•¨ìˆ˜ë¥¼ í˜¸ì¶œ

**render**
ì»´í¬ë„ŒíŠ¸ë¥¼ ë¦¬ë Œë”ë§

**getSnapshotBeforeUpdate**
ì»´í¬ë„ŒíŠ¸ ë³€í™”ë¥¼ DOMì— ë°˜ì˜í•˜ê¸° ë°”ë¡œ ì§ì „ì— í˜¸ì¶œí•˜ëŠ” ë©”ì„œë“œ

**componentDidUpdate**
ì»´í¬ë„ŒíŠ¸ì˜ ì—…ë°ì´íŠ¸ ì‘ì—…ì´ ëë‚œ í›„ í˜¸ì¶œí•˜ëŠ” ë©”ì„œë“œ


#### ì–¸ë§ˆìš´íŠ¸
ë§ˆìš´íŠ¸ì˜ ë°˜ëŒ€ ê³¼ì •ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ DOMì—ì„œ ì œê±°í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.
![](https://velog.velcdn.com/images/guddyd6761/post/0c24b115-6ab4-4a13-8396-490295d55098/image.png)

**componentWillUnmount**
ì»´í¬ë„ŒíŠ¸ê°€ ì›¹ ë¸Œë¼ìš°ì €ìƒì—ì„œ ì‚¬ë¼ì§€ê¸° ì „ì— í˜¸ì¶œí•˜ëŠ” ë©”ì„œë“œ



### 7.2 ë¼ì´í”„ì‚¬ì´í´ ë©”ì„œë“œ ì‚´í´ë³´ê¸°

**render() í•¨ìˆ˜**
```javascript
render(){ ... }
```
ì»´í¬ë„ŒíŠ¸ ëª¨ì–‘ìƒˆë¥¼ ì •ì˜í•˜ê³ , ë¼ì´í”„ì‚¬ì´í´ ë©”ì„œë“œ ì¤‘ ìœ ì¼í•œ í•„ìˆ˜ ë©”ì„œë“œì…ë‹ˆë‹¤.
ì´ ë©”ì„œë“œ ì•ˆì—ì„œ this.propsì™€ this.stateì— ì ‘ê·¼í•  ìˆ˜ ìˆìœ¼ë©°, ë¦¬ì•¡íŠ¸ ìš”ì†Œë¥¼ ë°˜í™˜í•˜ê³ 
ì´ ë©”ì„œë“œ ì•ˆì—ì„œëŠ” ì´ë²¤íŠ¸ ì„¤ì •ì´ ì•„ë‹Œ ê³³ì—ì„œ setStateë¥¼ ì‚¬ìš©í•˜ë©´ ì•ˆ ë˜ë©°, ë¸Œë¼ìš°ì €ì˜ DOMì— ì ‘ê·¼í•´ì„œë„ ì•ˆ ë©ë‹ˆë‹¤.
DOM ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ stateì— ë³€í™”ë¥¼ ì¤„ ë•ŒëŠ” componentDidMountì—ì„œ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.

**constructor ë©”ì„œë“œ**
```javascript
constructor(props){ ... }
```
ì»´í¬ë„ŒíŠ¸ì˜ ìƒì„±ì ë©”ì„œë“œë¡œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ ë•Œ ì²˜ìŒìœ¼ë¡œ ì‹¤í–‰ë˜ê³  ì´ˆê¸° stateë¥¼ ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**getDerivedStateFromProps ë©”ì„œë“œ**
propsë¡œ ë°›ì•„ ì˜¨ ê°’ì„ stateì— ë™ê¸°í™”ì‹œí‚¤ëŠ” ìš©ë„ë¡œ ì‚¬ìš©í•˜ë©°, ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ë  ë•Œì™€ ì—…ë°ì´íŠ¸ë  ë•Œ í˜¸ì¶œí•©ë‹ˆë‹¤.

```javascript
static getDerivedStateFromProps(nextProps, prevState) {
    if(nextProps.value !== prevState.value) { // ì¡°ê±´ì— ë”°ë¼ íŠ¹ì • ê°’ ë™ê¸°í™”
      return { value: nextProps.value };
    }
    return null; // stateë¥¼ ë³€ê²½í•  í•„ìš”ê°€ ì—†ë‹¤ë©´ nullì„ ë°˜í™˜
}
```

**componentDidMount ë©”ì„œë“œ**
```javascript
componentDidMount() { ... }
```
componentDidMountëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ê³ , ì²« ë Œë”ë§ì„ ë‹¤ ë§ˆì¹œ í›„ ì‹¤í–‰í•©ë‹ˆë‹¤.
ì´ ì•ˆì—ì„œ ë‹¤ë¥¸ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë˜ëŠ” í”„ë ˆì„ì›Œí¬ì˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜ ì´ë²¤íŠ¸ ë“±ë¡, setTimeout, setInterval, ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ê°™ì€ ë¹„ë™ê¸° ì‘ì—…ì„ ì²˜ë¦¬í•˜ë©´ ë©ë‹ˆë‹¤.

**shouldComponentUpdate ë©”ì„œë“œ**
```javascript
shouldComponentUpdate(nextProps, nextState) { ... }
```
props ë˜ëŠ” stateë¥¼ ë³€ê²½í–ˆì„ ë•Œ, ë¦¬ë Œë”ë§ì„ ì‹œì‘í• ì§€ ì—¬ë¶€ë¥¼ ì§€ì •í•˜ëŠ” ë©”ì„œë“œë¡œ,
shouldComponentUpdate ë©”ì„œë“œì—ì„œëŠ” ë°˜ë“œì‹œ true ê°’ ë˜ëŠ” false ê°’ì„ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.
ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ ë•Œ ì´ ë©”ì„œë“œë¥¼ ë”°ë¡œ ìƒì„±í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ì–¸ì œë‚˜ true ê°’ì„ ë°˜í™˜
shouldComponentUpdate ë©”ì„œë“œê°€ false ê°’ì„ ë°˜í™˜í•œë‹¤ë©´ ì—…ë°ì´íŠ¸ ê³¼ì •ì€ ì—¬ê¸°ì„œ ì¤‘ì§€
shouldComponentUpdate ë©”ì„œë“œ ì•ˆì—ì„œ í˜„ì¬ propsì™€ stateëŠ” this.propsì™€ this.stateë¡œ ì ‘ê·¼í•˜ê³ ,
ìƒˆë¡œ ì„¤ì •ë  props ë˜ëŠ” stateëŠ” nextPropsì™€ nextStateë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
í”„ë¡œì íŠ¸ ì„±ëŠ¥ì„ ìµœì í™”í•  ë•Œ, ìƒí™©ì— ë§ëŠ” ì•Œê³ ë¦¬ì¦˜ì„ ì‘ì„±í•˜ì—¬ ë¦¬ë Œë”ë§ì„ ë°©ì§€í•  ë•ŒëŠ” false ê°’ì„ ë°˜í™˜í•˜ê²Œ í•©ë‹ˆë‹¤.

**getSnapshotBeforeUpdate ë©”ì„œë“œ**
getSnapshotBeforeUpdate ë©”ì„œë“œëŠ” renderì—ì„œ ë§Œë“¤ì–´ì§„ ê²°ê³¼ë¬¼ì´ ë¸Œë¼ìš°ì €ì— ì‹¤ì œë¡œ ë°˜ì˜ë˜ê¸° ì§ì „ì— í˜¸ì¶œë©ë‹ˆë‹¤.
ë°˜í™˜í•˜ëŠ” ê°’ì€ componentDidUpdateì—ì„œ ì„¸ ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì¸ snapshot ê°’ìœ¼ë¡œ ì „ë‹¬ë°›ì„ ìˆ˜ ìˆìŒ
ì£¼ë¡œ ì—…ë°ì´íŠ¸í•˜ê¸° ì§ì „ì˜ ê°’ì„ ì°¸ê³ í•  ì¼ì´ ìˆì„ ë•Œ í™œìš©ë©ë‹ˆë‹¤.(ì˜ˆ: ìŠ¤í¬ë¡¤ë°” ìœ„ì¹˜ ìœ ì§€)

```javascript
getSnapshotBeforeUpdate(prevProps, prevState) {
    if(prevState.array !== this.state.array) {
    const { scrollTop, scrollHeight } = this.list
      return { scrollTop, scrollHeight };
    }
}
```

**componentDidUpdate ë©”ì„œë“œ**
```javascript
componentDidUpdate(prevProps, prevState, snapshot) { ... }
```
componentDidUpdateëŠ” ë¦¬ë Œë”ë§ì„ ì™„ë£Œí•œ í›„ ì‹¤í–‰í•©ë‹ˆë‹¤. ì—…ë°ì´íŠ¸ê°€ ëë‚œ ì§í›„ì´ë¯€ë¡œ, DOM ê´€ë ¨ ì²˜ë¦¬ë¥¼ í•´ë„ ë¬´ë°©í•©ë‹ˆë‹¤.
ì—¬ê¸°ì„œëŠ” prevProps ë˜ëŠ” prevStateë¥¼ ì‚¬ìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ê°€ ì´ì „ì— ê°€ì¡Œë˜ ë°ì´í„°ì— ì ‘ê·¼í•  ìˆ˜ ìˆê³ ,
ë˜ getSnapshotBeforeUpdateì—ì„œ ë°˜í™˜í•œ ê°’ì´ ìˆë‹¤ë©´ ì—¬ê¸°ì„œ snapshot ê°’ì„ ì „ë‹¬ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**componentWillUnmount ë©”ì„œë“œ**
```javascript
componentWillUnmount() { ... }
```
componentWillUnmountëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ DOMì—ì„œ ì œê±°í•  ë•Œ ì‹¤í–‰í•˜ê³ 
componentDidMountì—ì„œ ë“±ë¡í•œ ì´ë²¤íŠ¸, íƒ€ì´ë¨¸, ì§ì ‘ ìƒì„±í•œ DOMì´ ìˆë‹¤ë©´ ì—¬ê¸°ì„œ ì œê±° ì‘ì—…ì„ í•´ì•¼í•©ë‹ˆë‹¤.

**componentDidCatch ë©”ì„œë“œ**
ì»´í¬ë„ŒíŠ¸ ë Œë”ë§ ë„ì¤‘ì— ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ ë•Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¨¹í†µì´ ë˜ì§€ ì•Šê³  ì˜¤ë¥˜ UIë¥¼ ë³´ì—¬ ì¤„ ìˆ˜ ìˆê²Œ í•´ ì¤Œ

```javascript
componentDidCatch(error, info) {
  this.setState({
      error: true
  });
  console.log({ error, info });
}
```
ì—¬ê¸°ì„œ errorëŠ” íŒŒë¼ë¯¸í„°ì— ì–´ë–¤ ì—ëŸ¬ê°€ ë°œìƒí–ˆëŠ”ì§€ ì•Œë ¤ ì£¼ë©°,
info íŒŒë¼ë¯¸í„°ëŠ” ì–´ë””ì— ìˆëŠ” ì½”ë“œì—ì„œ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆëŠ”ì§€ì— ëŒ€í•œ ì •ë³´ë¥¼ ì¤ë‹ˆë‹¤.
ì•ì˜ ì½”ë“œì—ì„œëŠ” ê·¸ì € console.logë§Œ í–ˆì§€ë§Œ,
ë‚˜ì¤‘ì— ì‹¤ì œë¡œ ì‚¬ìš©í•  ë•Œ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ë©´ ì„œë²„ APIë¥¼ í˜¸ì¶œí•˜ì—¬ ë”°ë¡œ ìˆ˜ì§‘í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
ê·¸ëŸ¬ë‚˜ ì´ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ì»´í¬ë„ŒíŠ¸ ìì‹ ì—ê²Œ ë°œìƒí•˜ëŠ” ì—ëŸ¬ë¥¼ ì¡ì•„ë‚¼ ìˆ˜ ì—†ê³ 
ìì‹ ì˜ this.props.childrenìœ¼ë¡œ ì „ë‹¬ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°œìƒí•˜ëŠ” ì—ëŸ¬ë§Œ ì¡ì•„ë‚¼ ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ì°¸ê³ í•´ì•¼í•©ë‹ˆë‹¤.


### 7.3 ë¼ì´í”„ì‚¬ì´í´ ë©”ì„œë“œ ì‚¬ìš©í•˜ê¸°
```javascript
//LifeCycleSample.js
import React, { Component } from "react";


class LifeCycleSample extends Component {
  state = {
    number: 0,
    color: null,
  }



  myRef = null; // refë¥¼ ì„¤ì •í•  ë¶€ë¶„



constructor(props) {
    super(props);
    console.log("constructor");
  }



  static getDerivedStateFromProps(nextProps, prevState) {
    console.log("getDerivedStateFromProps"); 
    if(nextProps.color !== prevState.color) {
      return { color: nextProps.color };
    }
    return null;
  }



componentDidMount() {
    console.log("componentDidMount");
  }



shouldComponentUpdate(nextProps, nextState) {
    console.log("shouldComponentUpdate", nextProps, nextState);
    // ìˆ«ìì˜ ë§ˆì§€ë§‰ ìë¦¬ê°€ 4ë©´ ë¦¬ë Œë”ë§í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
    return nextState.number % 10 !== 4;
  }



componentWillUnmount() {
    console.log("componentWillUnmount");
  }



handleClick = () => {
    this.setState({
      number: this.state.number + 1
    });
  }



getSnapshotBeforeUpdate(prevProps, prevState) {
    console.log("getSnapshotBeforeUpdate");
    if(prevProps.color !== this.props.color) {
      return this.myRef.style.color;
    }
    return null;
  }



componentDidUpdate(prevProps, prevState, snapshot) {
    console.log("componentDidUpdate", prevProps, prevState);
    if(snapshot) {
      console.log("ì—…ë°ì´íŠ¸ë˜ê¸° ì§ì „ ìƒ‰ìƒ: ", snapshot);
    }
  }



render() {
    console.log("render");



    const style = {
      color: this.props.color
    };



    return (
      <div>
        <h1 style={style} ref={ref => this.myRef=ref}>
          {this.state.number}
        </h1>
        <p>color: {this.state.color}</p>
        <button onClick={this.handleClick}>
          ë”í•˜ê¸°
        </button>
      </div>
    )
  }
}

export default LifeCycleSample;
```
```javascript
//App.js

import React, { Component } from 'react';
import LifeCycleSample from './LifeCycleSample';

function getRandomColor(){
  return '#' + Math.floor(Math.random()*16777215).toString(16);
}

class App extends Component {
  state = {
    color: '#000000'
  }

  handleClick = () =>{
    this.setState({
      color:getRandomColor()
    })
  }

  render() {
    return (
      <div>
        <button onClick={this.handleClick}>ëœë¤ìƒ‰ìƒ</button>
        <LifeCycleSample color={this.state.color}></LifeCycleSample>
      </div>
    );
  }
}

export default App;
```

### 7.4 ì •ë¦¬
![](https://velog.velcdn.com/images/guddyd6761/post/321cf820-8093-442d-b0ef-24ffdd758d74/image.png)

ë¼ì´í”„ì‚¬ì´í´ ë©”ì„œë“œëŠ” ì»´í¬ë„ŒíŠ¸ ìƒíƒœì— ë³€í™”ê°€ ìˆì„ ë•Œë§ˆë‹¤ ì‹¤í–‰í•˜ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤. ì´ ë©”ì„œë“œë“¤ì€ ì„œë“œíŒŒí‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ DOMì„ ì§ì ‘ ê±´ë“œë ¤ì•¼ í•˜ëŠ” ìƒí™©ì—ì„œ ìœ ìš©í•©ë‹ˆë‹¤.

